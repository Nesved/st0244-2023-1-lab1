import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class Lab1 {
static {
System.loadLibrary("Mean");
}
public static native double mean(int[][] matrix);

public static void main(String[] args) {
    if (args.length == 0) {
        System.out.println("Uso: java Lab1 <nombre de archivo>");
        return;
    }
    
    int[][] matrix = readMatrixFromFile(args[0]);
    
    double mean = mean(matrix);
    
    System.out.println("Media: " + mean);
}

public static int[][] readMatrixFromFile(String filename) {
    int[][] matrix = null;
    try (BufferedReader br = new BufferedReader(new FileReader(filename))) {
        String line = br.readLine();
        String[] parts = line.split(" ");
        int numRows = 1;
        int numCols = parts.length;
        
        while (br.readLine() != null) {
            numRows++;
        }
        
        matrix = new int[numRows][numCols];
        int rowIndex = 0;
        do {
            parts = line.split(" ");
            for (int i = 0; i < numCols; i++) {
                matrix[rowIndex][i] = Integer.parseInt(parts[i]);
            }
            rowIndex++;
        } while ((line = br.readLine()) != null);
    } catch (IOException e) {
        e.printStackTrace();
    }
    
    return matrix;
}
}
